schemaVersion: 2.2.0
metadata:
  name: recipeUI
components:
  - name: ui-docker
    image:
      imageName: ui-docker-image
      dockerfile:
        buildContext: ./recipe-webUI/
        uri: ./recipe-webUI/Dockerfile
  - name: ui-container
    container:
      image: ui-docker-image
      endpoints:
        - name: http
          targetPort: 8080
          exposure: public
          protocol: http
commands:
  - id: build-image
    apply:
      component: ui-docker
  - id: run-container
    apply:
      component: ui-container
  -id: deploy
    composite:
      commands:
        - build-image
        - run-container
      group:
        kind: deploy
        isDefault: true